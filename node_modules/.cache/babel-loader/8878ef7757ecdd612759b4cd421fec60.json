{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { auth } from '../firebase/config';\nimport useAuthcontext from './useAuthcontext';\nexport const useLogin = () => {\n  _s();\n\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const {\n    dispatch\n  } = useAuthcontext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // login\n      const res = await auth.signInWithEmailAndPassword(email, password);\n      console.log(first); // dispatch login action\n\n      dispatch({\n        type: 'LOGIN',\n        payload: res.user\n      });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n  return {\n    login,\n    isPending,\n    error\n  };\n};\n\n_s(useLogin, \"L3mPYdwD6TvXwAXnHQHQHTZpEBQ=\", false, function () {\n  return [useAuthcontext];\n});","map":{"version":3,"sources":["/Users/abdomostafa/Finance-Tracker/frontend/src/hooks/useLogin.js"],"names":["useState","useEffect","auth","useAuthcontext","useLogin","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","dispatch","login","email","password","res","signInWithEmailAndPassword","console","log","first","type","payload","user","err","message"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAAQC,IAAR,QAAmB,oBAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAeR,cAAc,EAAnC;;AAEA,QAAMS,KAAK,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AACvCN,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,QAAI;AACF;AACA,YAAMK,GAAG,GAAG,MAAMb,IAAI,CAACc,0BAAL,CAAgCH,KAAhC,EAAuCC,QAAvC,CAAlB;AACFG,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ,EAHI,CAIF;;AACAR,MAAAA,QAAQ,CAAC;AAAES,QAAAA,IAAI,EAAE,OAAR;AAAiBC,QAAAA,OAAO,EAAEN,GAAG,CAACO;AAA9B,OAAD,CAAR;;AAEA,UAAI,CAACjB,WAAL,EAAkB;AAChBK,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,KAXD,CAYA,OAAMe,GAAN,EAAW;AACT,UAAI,CAAClB,WAAL,EAAkB;AAChBG,QAAAA,QAAQ,CAACe,GAAG,CAACC,OAAL,CAAR;AACAd,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACD;AACF;AACF,GAtBD;;AAwBAT,EAAAA,SAAS,CAAC,MAAM;AACd,WAAO,MAAMK,cAAc,CAAC,IAAD,CAA3B;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AAAEM,IAAAA,KAAF;AAASH,IAAAA,SAAT;AAAoBF,IAAAA;AAApB,GAAP;AACD,CAnCM;;GAAMH,Q;UAIUD,c","sourcesContent":["import { useState, useEffect } from 'react'\nimport {auth} from '../firebase/config'\nimport useAuthcontext from './useAuthcontext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthcontext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n  \n    try {\n      // login\n      const res = await auth.signInWithEmailAndPassword(email, password)\n    console.log(first)\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } \n    catch(err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}"]},"metadata":{},"sourceType":"module"}