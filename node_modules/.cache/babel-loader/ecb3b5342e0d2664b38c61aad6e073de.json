{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { auth } from '../firebase/config';\nimport useAuthcontext from './useAuthcontext';\n\nconst useSignup = () => {\n  _s();\n\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const {\n    dispatch\n  } = useAuthcontext();\n\n  const signup = async (email, password, displayName) => {\n    setError(null); //^ reset the error each time we signup\n\n    setIsPending(true);\n\n    try {\n      const res = await auth.createUserWithEmailAndPassword(email, password);\n      dispatch({\n        type: 'LOGOUT',\n        payload: res.user\n      });\n\n      if (!res) {\n        throw new Error('Failed to create a user');\n      } //! after creating the user we want to tap in that user and update his profile and add this name\n\n\n      await res.user.updateProfile({\n        displayName\n      });\n      setIsPending(false);\n    } catch (err) {\n      console.log(error);\n      setError(err.message);\n      setIsPending(false);\n    }\n  };\n\n  return {\n    error,\n    isPending,\n    signup\n  };\n};\n\n_s(useSignup, \"r9u/P+AHi/B9Mo/0fTsGwnpY8YA=\", false, function () {\n  return [useAuthcontext];\n});\n\nexport default useSignup;","map":{"version":3,"sources":["/Users/abdomostafa/Finance-Tracker/frontend/src/hooks/useSignup.js"],"names":["useState","auth","useAuthcontext","useSignup","error","setError","isPending","setIsPending","dispatch","signup","email","password","displayName","res","createUserWithEmailAndPassword","type","payload","user","Error","updateProfile","err","console","log","message"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAAQC,IAAR,QAAmB,oBAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBL,QAAQ,CAAC,IAAD,CAAjC;AACA,QAAM,CAACM,SAAD,EAAWC,YAAX,IAA2BP,QAAQ,CAAC,KAAD,CAAzC;AACA,QAAM;AAACQ,IAAAA;AAAD,MAAaN,cAAc,EAAjC;;AAEA,QAAMO,MAAM,GAAG,OAAOC,KAAP,EAAaC,QAAb,EAAsBC,WAAtB,KAAsC;AACjDP,IAAAA,QAAQ,CAAC,IAAD,CAAR,CADiD,CAClC;;AACfE,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,QAAI;AACA,YAAMM,GAAG,GAAG,MAAMZ,IAAI,CAACa,8BAAL,CAAoCJ,KAApC,EAA0CC,QAA1C,CAAlB;AACAH,MAAAA,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAC,QAAN;AAAeC,QAAAA,OAAO,EAACH,GAAG,CAACI;AAA3B,OAAD,CAAR;;AAEA,UAAG,CAACJ,GAAJ,EAAQ;AACJ,cAAM,IAAIK,KAAJ,CAAU,yBAAV,CAAN;AACH,OAND,CAOA;;;AACA,YAAML,GAAG,CAACI,IAAJ,CAASE,aAAT,CAAuB;AAAEP,QAAAA;AAAF,OAAvB,CAAN;AACAL,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEH,KAXD,CAWE,OAAOa,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYlB,KAAZ;AACAC,MAAAA,QAAQ,CAACe,GAAG,CAACG,OAAL,CAAR;AACAhB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAEH;AAEJ,GAtBD;;AAuBH,SAAO;AAACH,IAAAA,KAAD;AAAOE,IAAAA,SAAP;AAAiBG,IAAAA;AAAjB,GAAP;AACA,CA7BD;;GAAMN,S;UAGiBD,c;;;AA4BvB,eAAeC,SAAf","sourcesContent":["import { useState } from 'react'\nimport {auth} from '../firebase/config'\nimport useAuthcontext from './useAuthcontext'\n\nconst useSignup = () => {\n    const [error,setError] = useState(null)\n    const [isPending,setIsPending] = useState(false)\n    const {dispatch} = useAuthcontext()\n    \n    const signup = async (email,password,displayName) => {\n        setError(null) //^ reset the error each time we signup\n        setIsPending(true)\n        \n        try {\n            const res = await auth.createUserWithEmailAndPassword(email,password) \n            dispatch({type:'LOGOUT',payload:res.user})\n            \n            if(!res){\n                throw new Error('Failed to create a user')\n            }\n            //! after creating the user we want to tap in that user and update his profile and add this name\n            await res.user.updateProfile({ displayName })\n            setIsPending(false)\n            \n        } catch (err) {\n            console.log(error)\n            setError(err.message)\n            setIsPending(false)\n\n        }\n        \n    }\n return {error,isPending,signup}\n}\n\nexport default useSignup"]},"metadata":{},"sourceType":"module"}